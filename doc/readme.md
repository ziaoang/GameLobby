-------------------------------------------

本次项目主要包含4个模块: server, client, config 和 db.

-------------------------------------------

### server模块:
1. server模块是整个系统的核心
    1.1 主要负责处理客户端的所有请求, 可以主动向用户发送消息, 也可以接受用户的消息
    1.2 主体为一个while循环, 等待客户端的tcp连接, 对于每一个连接创建一个新线程来处理它
2. 使用两个变量来存储客户端的登录信息
    2.1 username_dict 以用户名为键值, 保存客户端的socket, 房间名和登录时间
    2.2 room_dict 以房间名为键值, 保存每个房间里面的用户名
    2.3 其中大厅的实现是一个特殊的房间, 房间名为"-1"
3. 用户的注册和登录调用db模块实现, 使用sqlite3存储用户的信息, 包括用户名, md5加密的密码, 以及在线时长
4. 21点游戏使用一个独立的线程实现
    4.1 在每个半点, 利用room_dict找到用户名，再利用username_dict找到socket, 向用户发送游戏内容
    4.2 利用每个tcp线程接受用户返回的结果, 并进行排名统计, 将获胜者以广播的形式发送到每个房间
    4.3 游戏结束后需要清空游戏的统计数据, 包括is_running, room_answer, room_number_list, username_answered
5. 为了方便测试, 额外提供了一个sudo命令, 可以查看服务器信息和数据库信息
6. 如果需要测试21点游戏功能, 建议把每半小时出题改成每分钟出题, 15s游戏结束改成30s游戏结束


### client模块: 主要包含两个线程
第一个线程send接受用户的输入, 并将其发送给服务器
第二个线程receive接受服务器的返回, 并将其打印在屏幕上


### config模块:
1. 包含一些服务器参数, 如ip, port 和 数据库名称
2. 还包含了一些辅助函数:
    2.1 md5: 密码md5加密
    2.2 get_number_list: 21点游戏出题
    2.3 get_value: 检查用户答案是否合法, 合法返回计算结果，否则返回None
    2.4 clean: 数据清洗, 多个空格合并成一个空格, 去除两边空格


### db模块:
1. 使用sqlit3作为数据库存储软件
2. 数据库中只包含一个表, 以用户名为主键, 存储用户的密码和在线时长
3. 提供了一些函数给sever模块调用:
    3.1 is_exist 检查用户密码是否存在
    3.2 add 注册用户
    3.3 update 更新用户在线时长
    3.4 show 展示数据库数据



